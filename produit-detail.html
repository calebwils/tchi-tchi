<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Détails Produit | Les Opticiens du Golfe</title>
    <link rel="stylesheet" href="/src/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
    <nav class="navbar">
        <div class="container nav-content">
            <a href="/index.html" class="logo">
                <img src="/logo-new.jpg" alt="Logo" style="height: 60px; border-radius: 5px;">
            </a>
            <ul class="nav-links">
                <li><a href="/index.html">Nos produits</a></li>
                <li><a href="/a-propos.html">À propos</a></li>
                <li><a href="/prise-de-besoin.html">Prise de besoin</a></li>
                <li><a href="/contact.html">Contact</a></li>
            </ul>
        </div>
    </nav>

    <main style="padding-top: 100px; padding-bottom: 50px;">
        <div class="container">
            <div class="product-detail-grid">
                <!-- Gallery Section -->
                <div class="product-gallery">
                    <div class="main-image-container">
                        <img id="main-product-img" src="/glasses-1.png" alt="Produit">
                    </div>
                    <div class="thumbnail-grid">
                        <div class="thumb active" onclick="updateMainImage(this, '/glasses-1.png')">
                            <img src="/glasses-1.png" alt="Vue principale">
                        </div>
                        <div class="thumb" onclick="updateMainImage(this, '/angle-side.png')">
                            <img src="/angle-side.png" alt="Vue de côté">
                        </div>
                        <div class="thumb" onclick="updateMainImage(this, '/angle-top.png')">
                            <img src="/angle-top.png" alt="Vue de dessus">
                        </div>
                        <div class="thumb" onclick="updateMainImage(this, '/catalog-black.png')">
                            <img src="/catalog-black.png" alt="Vue catalogue">
                        </div>
                    </div>
                </div>

                <!-- Info & Try-On Section -->
                <div class="product-info">
                    <h1 id="prod-name" style="font-size: 2.2rem; color: var(--primary); margin-bottom: 5px;">Luxe
                        Titanium Pro</h1>
                    <p id="prod-price"
                        style="font-size: 1.8rem; font-weight: 700; color: var(--secondary); margin-bottom: 25px;">
                        125.000 FCFA</p>

                    <div class="vto-section">
                        <h3 style="margin-bottom: 10px; display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-magic" style="color: var(--secondary);"></i> Essai Virtuel
                        </h3>
                        <p style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 15px;">Découvrez comment
                            cette monture s'adapte à différents visages.</p>

                        <div class="vto-display">
                            <img id="vto-background" src="/face-female-1.png" alt="Modèle">
                            <img id="vto-glasses-overlay" src="/glasses-1.png" alt="Lunettes">
                        </div>

                        <div class="face-selector">
                            <img src="/face-female-1.png" class="active"
                                onclick="setVTOBackground(this, '/face-female-1.png')" alt="Femme 1">
                            <img src="/face-male-1.png" onclick="setVTOBackground(this, '/face-male-1.png')"
                                alt="Homme 1">
                            <img src="/face-female-2.png" onclick="setVTOBackground(this, '/face-female-2.png')"
                                alt="Femme 2">
                        </div>
                    </div>

                    <div class="detail-actions">
                        <button class="cta-btn"><i class="fas fa-shopping-cart"></i> Ajouter au panier</button>
                        <button class="cta-btn btn-outline"><i class="fab fa-whatsapp"></i> WhatsApp</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        function updateMainImage(el, src) {
            document.getElementById('main-product-img').src = src;
            document.querySelectorAll('.thumb').forEach(t => t.classList.remove('active'));
            el.classList.add('active');
        }

        function setVTOBackground(el, src) {
            document.getElementById('vto-background').src = src;
            document.querySelectorAll('.face-selector img').forEach(s => s.classList.remove('active'));
            el.classList.add('active');
        }

        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const name = params.get('name') || 'Luxe Titanium Pro';
            const price = params.get('price') || '125.000 FCFA';
            const img = params.get('img') || '/glasses-1.png';

            document.getElementById('prod-name').innerText = name;
            document.getElementById('prod-price').innerText = price;
            
            // Set initial images
            const mainImg = document.getElementById('main-product-img');
            mainImg.src = img;
            
            // Update the first thumbnail to the specific product image
            const firstThumbImg = document.querySelector('.thumb.active img');
            if (firstThumbImg) {
                firstThumbImg.src = img;
                firstThumbImg.closest('.thumb').onclick = function() { updateMainImage(this, img); };
            }

            document.getElementById('vto-glasses-overlay').src = img;
        });
    </script>
</body>

</html>